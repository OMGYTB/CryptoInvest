<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inscription - CryptoInvest</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="../img/logo (2).ico" type="image/x-icon">
</head>

<body>
    <header>
        <nav>
            <div class="logo">
                <h1>Crypto<span>Invest</span></h1>
            </div>
            <div class="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html">Accueil</a></li>
                <li><a href="market.html">Marché</a></li>
                <li><a href="learn.html">Apprendre</a></li>
            </ul>
            <div class="nav-button">
                <a href="login.html" class="login-btn">Connexion</a>
                <a href="signup.html" class="sign-btn">Inscription</a>
            </div>
        </nav>
    </header>

    <section class="signup-section" style="min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 8rem 2rem;">
        <div class="signup-container" style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 15px; padding: 3rem; width: 100%; max-width: 500px;">
            <h2 style="text-align: center; margin-bottom: 2rem; font-size: 2rem; background: linear-gradient(45deg, var(--accent-color), #4facfe); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">Créer un compte</h2>
            
            <div id="signup-alert" class="alert"></div>
            
            <form id="signup-form" class="signup-form">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                    <div class="form-group">
                        <label for="firstname" style="display: block; margin-bottom: 0.5rem; color: var(--text-color);">Prénom</label>
                        <input type="text" id="firstname" required style="width: 100%; padding: 1rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);">
                    </div>
                    
                    <div class="form-group">
                        <label for="lastname" style="display: block; margin-bottom: 0.5rem; color: var(--text-color);">Nom</label>
                        <input type="text" id="lastname" required style="width: 100%; padding: 1rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);">
                    </div>
                </div>
                
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="email" style="display: block; margin-bottom: 0.5rem; color: var(--text-color);">Email</label>
                    <input type="email" id="email" required style="width: 100%; padding: 1rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);">
                </div>
                
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="password" style="display: block; margin-bottom: 0.5rem; color: var(--text-color);">Mot de passe</label>
                    <input type="password" id="password" required style="width: 100%; padding: 1rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);">
                </div>
                
                <div class="form-group" style="margin-bottom: 2rem;">
                    <label for="confirm-password" style="display: block; margin-bottom: 0.5rem; color: var(--text-color);">Confirmer le mot de passe</label>
                    <input type="password" id="confirm-password" required style="width: 100%; padding: 1rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);">
                </div>
                
                <div class="form-group" style="margin-bottom: 2rem;">
                    <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-secondary);">
                        <input type="checkbox" required>
                        J'accepte les conditions d'utilisation et la politique de confidentialité
                    </label>
                </div>
                
                <button type="submit" id="signup-button" style="width: 100%; padding: 1rem; border: none; border-radius: 8px; background: linear-gradient(45deg, var(--accent-color), #4facfe); color: var(--primary-color); font-weight: 600; cursor: pointer; transition: transform 0.3s ease;">Créer un compte</button>
            </form>
            
            <div class="social-signup" style="margin-top: 2rem; text-align: center;">
                <p style="color: var(--text-secondary); margin-bottom: 1rem;">Ou inscrivez-vous avec</p>
                <div class="social-buttons" style="display: flex; gap: 1rem; justify-content: center;">
                    <button style="padding: 0.8rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);"><i class="fab fa-google"></i></button>
                    <button style="padding: 0.8rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);"><i class="fab fa-facebook"></i></button>
                    <button style="padding: 0.8rem; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: var(--text-color);"><i class="fab fa-apple"></i></button>
                </div>
            </div>
            
            <p style="text-align: center; margin-top: 2rem; color: var(--text-secondary);">
                Déjà un compte ? <a href="login.html" style="color: var(--accent-color); text-decoration: none;">Connectez-vous</a>
            </p>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-waves">
            <div class="wave" id="wave1"></div>
            <div class="wave" id="wave2"></div>
            <div class="wave" id="wave3"></div>
            <div class="wave" id="wave4"></div>
        </div>
        
        <div class="footer-content">
            <div class="footer-section brand">
                <h2 class="footer-logo">Crypto<span>Invest</span></h2>
                <p class="footer-description">
                    Votre partenaire de confiance pour l'investissement en cryptomonnaies. 
                    Sécurité, transparence et innovation.
                </p>
                <div class="footer-social">
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-discord"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-telegram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>

            <div class="footer-section links">
                <h3>Navigation</h3>
                <ul>
                    <li><a href="market.html">Marché</a></li>
                    <li><a href="learn.html">Formation</a></li>
                    <li><a href="portfolio.html">Portfolio</a></li>
                    <li><a href="news.html">Actualités</a></li>
                </ul>
            </div>

            <div class="footer-section links">
                <h3>Ressources</h3>
                <ul>
                    <li><a href="#">Centre d'aide</a></li>
                    <li><a href="#">Documentation</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">API</a></li>
                </ul>
            </div>

            <div class="footer-section contact">
                <h3>Contact</h3>
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>contact@cryptoinvest.com</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>+33 1 23 45 67 89</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Paris, France</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p>&copy; 2024 CryptoInvest. Tous droits réservés.</p>
                <div class="footer-bottom-links">
                    <a href="#">Mentions légales</a>
                    <a href="#">Politique de confidentialité</a>
                    <a href="#">Conditions d'utilisation</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/hambuger.js"></script>
    <script src="../js/auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const signupForm = document.getElementById('signup-form');
            const signupButton = document.getElementById('signup-button');
            const alertBox = document.getElementById('signup-alert');
            
            // Show alert message
            function showAlert(message, type) {
                alertBox.textContent = message;
                alertBox.className = `alert alert-${type}`;
                alertBox.style.display = 'block';
                
                // Auto hide after 5 seconds
                setTimeout(() => {
                    alertBox.style.display = 'none';
                }, 5000);
            }
            
            // Validate password match
            function validatePasswordMatch() {
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirm-password').value;
                
                if (password !== confirmPassword) {
                    showAlert('Les mots de passe ne correspondent pas', 'error');
                    return false;
                }
                
                return true;
            }
            
            // Handle form submission
            signupForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Validate password match
                if (!validatePasswordMatch()) {
                    return;
                }
                
                // Get form data
                const userData = {
                    firstName: document.getElementById('firstname').value,
                    lastName: document.getElementById('lastname').value,
                    email: document.getElementById('email').value,
                    password: document.getElementById('password').value
                };
                
                // Disable button during registration
                signupButton.disabled = true;
                signupButton.textContent = 'Création du compte...';
                
                try {
                    // Attempt registration
                    await CryptoInvestAuth.register(userData);
                    
                    // Show success message
                    showAlert('Compte créé avec succès! Connexion en cours...', 'success');
                    
                    // Log in the user
                    await CryptoInvestAuth.login(userData.email, userData.password);
                    
                    // Redirect to dashboard
                    setTimeout(() => {
                        window.location.href = 'portfolio.html';
                    }, 1500);
                } catch (error) {
                    // Show error message
                    showAlert(error.message || 'Erreur lors de la création du compte', 'error');
                    
                    // Re-enable button
                    signupButton.disabled = false;
                    signupButton.textContent = 'Créer un compte';
                }
            });
        });
    </script>

</body>
</html>
